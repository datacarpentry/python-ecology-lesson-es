<!DOCTYPE html>
<!-- START: inst/pkgdown/templates/layout.html --><!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<title>Análisis y visualización de datos usando Python: Instructor Notes</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" type="text/css" href="../assets/styles.css">
<script src="../assets/scripts.js" type="text/javascript"></script><!-- mathjax --><script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      config: ["MMLorHTML.js"],
      jax: ["input/TeX","input/MathML","output/HTML-CSS","output/NativeMML", "output/PreviewHTML"],
      extensions: ["tex2jax.js","mml2jax.js","MathMenu.js","MathZoom.js", "fast-preview.js", "AssistiveMML.js", "a11y/accessibility-menu.js"],
      TeX: {
        extensions: ["AMSmath.js","AMSsymbols.js","noErrors.js","noUndefined.js"]
      },
      tex2jax: {
        inlineMath: [['\\(', '\\)']],
        displayMath: [ ['$$','$$'], ['\\[', '\\]'] ],
        processEscapes: true
      }
    });
    </script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><!-- Responsive Favicon for The Carpentries --><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="manifest" href="../site.webmanifest">
<link rel="mask-icon" href="../safari-pinned-tab.svg" color="#5bbad5">
<meta name="msapplication-TileColor" content="#da532c">
<meta name="theme-color" content="#ffffff">
</head>
<body>
    <header id="top" class="navbar navbar-expand-md navbar-light bg-white top-nav data"><a class="visually-hidden-focusable skip-link" href="#main-content">Skip to main content</a>
  <div class="container-fluid top-nav-container">
    <div class="col-md-6">
      <div class="large-logo">
        <img alt="Data Carpentry" src="../assets/images/data-logo.svg">
</div>
    </div>
    <div class="selector-container">
      
      
      <div class="dropdown">
        <button class="btn btn-secondary dropdown-toggle bordered-button" type="button" id="dropdownMenu1" data-bs-toggle="dropdown" aria-expanded="false">
          <i aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View <i data-feather="chevron-down"></i>
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenu1">
<li><button class="dropdown-item" type="button" onclick="window.location.href='../instructor-notes.html';">Learner View</button></li>
        </ul>
</div>
    </div>
  </div>
  <hr></header><nav class="navbar navbar-expand-xl navbar-light bg-white bottom-nav data" aria-label="Main Navigation"><div class="container-fluid nav-container">
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle Navigation">
      <span class="navbar-toggler-icon"></span>
      <span class="menu-title">Menu</span>
    </button>
    <div class="nav-logo">
      <img class="small-logo" alt="Data Carpentry" src="../assets/images/data-logo-sm.svg">
</div>
    <div class="lesson-title-md">
      Análisis y visualización de datos usando Python
    </div>
    <div class="search-icon-sm">
      <!-- TODO: do not show until we have search
        <i role="img" aria-label="search button" data-feather="search"></i>
      -->
    </div>
    <div class="desktop-nav">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">
<li class="nav-item">
          <span class="lesson-title">
            Análisis y visualización de datos usando Python
          </span>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/key-points.html">Key Points</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/instructor-notes.html">Instructor Notes</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="../instructor/images.html">Extract All Images</a>
        </li>
        <li class="nav-item dropdown">
          <button class="nav-link dropdown-toggle" id="navbarDropdown" data-bs-toggle="dropdown" aria-expanded="false">
            More <i data-feather="chevron-down"></i>
          </button>
          <ul class="dropdown-menu" aria-labelledby="navbarDropdown">
<li><a class="dropdown-item" href="CONTRIBUTORS.html">Acerca de los Colaboradores</a></li>
<li><a class="dropdown-item" href="jupyter_notebooks.html">Resumen de Jupyter Notebooks</a></li>
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html"></a></li>
          </ul>
</li>
      </ul>
</div>
    <form class="d-flex col-md-2 search-form">
      <fieldset disabled>
<input class="form-control me-2 searchbox" type="search" placeholder="Search" aria-label="Search"><button class="btn btn-outline-success tablet-search-button" type="submit">
          <i class="search-icon" data-feather="search" role="img" aria-label="search button"></i>
        </button>
      </fieldset>
</form>
  </div>
<!--/div.container-fluid -->
</nav><div class="col-md-12 mobile-title">
  Análisis y visualización de datos usando Python
</div>

<aside class="col-md-12 lesson-progress"><div style="width: %" class="percentage">
    %
  </div>
  <div class="progress data">
    <div class="progress-bar data" role="progressbar" style="width: %" aria-valuenow="" aria-label="Lesson Progress" aria-valuemin="0" aria-valuemax="100">
    </div>
  </div>
</aside><div class="container">
      <div class="row">
        <!-- START: inst/pkgdown/templates/navbar.html -->
<div id="sidebar-col" class="col-lg-4">
  <div id="sidebar" class="sidebar">
      <nav aria-labelledby="flush-headingEleven"><button role="button" aria-label="close menu" alt="close menu" aria-expanded="true" aria-controls="sidebar" class="collapse-toggle" data-collapse="Collapse " data-episodes="Episodes ">
          <i class="search-icon" data-feather="x" role="img"></i>
        </button>
        <div class="sidebar-inner">
          <div class="row mobile-row">
            <div class="col">
              <div class="sidenav-view-selector">
                <div class="accordion accordion-flush" id="accordionFlush9">
                  <div class="accordion-item">
                    <h2 class="accordion-header" id="flush-headingNine">
                      <button class="accordion-button collapsed" id="instructor" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseNine" aria-expanded="false" aria-controls="flush-collapseNine">
                        <i id="eye" aria-hidden="true" class="icon" data-feather="eye"></i> Instructor View
                      </button>
                    </h2>
                    <div id="flush-collapseNine" class="accordion-collapse collapse" aria-labelledby="flush-headingNine" data-bs-parent="#accordionFlush2">
                      <div class="accordion-body">
                        <a href="../instructor-notes.html">Learner View</a>
                      </div>
                    </div>
                  </div>
<!--/div.accordion-item-->
                </div>
<!--/div.accordion-flush-->
              </div>
<!--div.sidenav-view-selector -->
            </div>
<!--/div.col -->
      
            <hr>
</div>
<!--/div.mobile-row -->

          <div class="accordion accordion-flush" id="accordionFlush11">
            <div class="accordion-item">

              <button id="chapters" class="accordion-button show" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseEleven" aria-expanded="false" aria-controls="flush-collapseEleven">
                <h2 class="accordion-header chapters" id="flush-headingEleven">
                  EPISODES
                </h2>
              </button>
              <div id="flush-collapseEleven" class="accordion-collapse show collapse" aria-labelledby="flush-headingEleven" data-bs-parent="#accordionFlush11">

                <div class="accordion-body">
                  <div class="accordion accordion-flush" id="accordionFlush1">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading1">
        <a href="index.html">Summary and Schedule</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush2">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading2">
        <a href="00-before-we-start.html">1. Antes de comenzar</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush3">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading3">
        <a href="01-short-introduction-to-Python.html">2. Breve introducción a la Programación en Python</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush4">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading4">
        <a href="02-starting-with-data.html">3. Comenzando con datos</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush5">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading5">
        <a href="03-index-slice-subset.html">4. Indexación, segmentación y creación de subconjuntos a partir de DataFrames en Python</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush6">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading6">
        <a href="04-data-types-and-format.html">5. Tipos de datos y formatos</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush7">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading7">
        <a href="05-merging-data.html">6. Combinando DataFrames con Pandas</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush8">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading8">
        <a href="06-loops-and-functions.html">7. Flujos de trabajo y automatización</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush9">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading9">
        <a href="07-visualization-ggplot-python.html">8. Creando gráficos con plotnine</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush10">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading10">
        <a href="08-putting-it-all-together.html">9. Entrada de datos y visualización - Matplotlib y Pandas</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

<div class="accordion accordion-flush" id="accordionFlush11">
  <div class="accordion-item">
    <div class="accordion-header" id="flush-heading11">
        <a href="09-working-with-sql.html">10. Acceso a base de datos SQLite usando Python y Pandas</a>
    </div>
<!--/div.accordion-header-->
        
  </div>
<!--/div.accordion-item-->
</div>
<!--/div.accordion-flush-->

                </div>
              </div>
            </div>

            <hr class="half-width">
<div class="accordion accordion-flush resources" id="accordionFlush12">
              <div class="accordion-item">
                <h2 class="accordion-header" id="flush-headingTwelve">
                  <button class="accordion-button collapsed" id="resources" type="button" data-bs-toggle="collapse" data-bs-target="#flush-collapseTwelve" aria-expanded="false" aria-controls="flush-collapseTwelve">
                    RESOURCES
                  </button>
                </h2>
                <div id="flush-collapseTwelve" class="accordion-collapse collapse" aria-labelledby="flush-headingTwelve" data-bs-parent="#accordionFlush12">
                  <div class="accordion-body">
                    <ul>
<li>
                        <a href="../instructor/key-points.html">Key Points</a>
                      </li>
                      <li>
                        <a href="../instructor/instructor-notes.html">Instructor Notes</a>
                      </li>
                      <li>
                        <a href="../instructor/images.html">Extract All Images</a>
                      </li>
                      <li><a href="CONTRIBUTORS.html">Acerca de los Colaboradores</a></li>
<li><a href="jupyter_notebooks.html">Resumen de Jupyter Notebooks</a></li>
<hr>
<li><a class="dropdown-item" href="discuss.html">Discussion</a></li>
<li><a class="dropdown-item" href="reference.html"></a></li>
                    </ul>
</div>
                </div>
              </div>
            </div>
            <hr class="half-width resources">
<a href="../instructor/aio.html">See all in one page</a>
            

            <hr class="d-none d-sm-block d-md-none">
<div class="d-grid gap-1">
            
            </div>
          </div>
<!-- /div.accordion -->
        </div>
<!-- /div.sidebar-inner -->
      </nav>
</div>
<!-- /div.sidebar -->
  </div>
<!-- /div.sidebar-col -->
<!-- END:   inst/pkgdown/templates/navbar.html-->

        <!-- START: inst/pkgdown/templates/content-extra.html -->
  <div class="col-xl-8 col-lg-12 primary-content">
    <main id="main-content" class="main-content"><div class="container lesson-content">
        <h1>Instructor Notes</h1>
        
<div class="section level1">
<h1 id="soluciones-a-desafíos">Soluciones a desafíos<a class="anchor" aria-label="anchor" href="#soluciones-a-desaf%C3%ADos"></a>
</h1>
<div class="section level2">
<h2 id="instalar-los-paquetes-requeridos-para-el-taller">Instalar los paquetes requeridos para el taller<a class="anchor" aria-label="anchor" href="#instalar-los-paquetes-requeridos-para-el-taller"></a>
</h2>
<p>Por favor sigue las instrucciones del documento <a href="index.html#setup">Setup</a> para instalar los programas necesarios para
esta lección. Si encuentras problemas, por favor crea un
<strong>issue</strong> con la etiqueta
<strong>High-priority</strong>.</p>
</div>
<div class="section level2">
<h2 id="revisando-instalaciones">Revisando instalaciones<a class="anchor" aria-label="anchor" href="#revisando-instalaciones"></a>
</h2>
<p>En el directorio <code>_includes/scripts</code> encontrarás un
<strong>script</strong> llamado <code>check_env.py</code>. Éste revisa
la funcionalidad de la versión instalada de Anaconda.</p>
<p>Por defecto, Data Carpentry no requiere que la gente descargue el
repositorio completo con todos los scripts y apéndices. Por lo tanto,
como instructor, debes decidir cómo te gustaría proveer este script a
las estudiantes, si es que decides hacerlo. Para usarlo, las estudiantes
pueden navegar en su terminal hasta <code>_includes/scripts</code> y
ejecutar lo siguiente:</p>
<div class="codewrapper sourceCode" id="cb1">
<h3 class="code-label">BASH<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode bash" tabindex="0"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python</span> check_env.py</span></code></pre>
</div>
<p>Si las estudiantes reciben un <code>AssertionError</code>, éste te
informará cómo ayudar a corregir la instalación. De lo contrario, ¡te
dirá que el sistema está listo para Data Carpentry!</p>
</div>
<div class="section level2">
<h2 id="short-introduction-to-python">01-short-introduction-to-Python<a class="anchor" aria-label="anchor" href="#short-introduction-to-python"></a>
</h2>
<div class="section level3">
<h3 id="desafíos-sobre-tuplas">Desafíos sobre tuplas<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-tuplas"></a>
</h3>
<ul>
<li><p>¿Qué sucede cuando ejecutas <code>a_list[1] = 5</code>?</p></li>
<li>
<p>¿Qué sucede cuando ejecutas <code>a_tuple[2] = 5</code>?</p>
<p>Como <code>tuple</code> es inmutable, no soporta asignación de ítems.
Los elementos de <code>list</code> pueden ser alterados
individualmente.</p>
</li>
<li>
<p>¿Qué te dice <code>type(a_tuple)</code> sobre
<code>a_tuple</code>?</p>
<p><code>tuple</code></p>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-diccionarios">Desafíos sobre diccionarios<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-diccionarios"></a>
</h3>
<ul>
<li>Cambiando diccionarios: 2. Reasigna el segundo valor.</li>
</ul>
<p>Asegúrate también de aclarar que acceder al “segundo valor” se trata
del nombre de la clave. Agrega por ejemplo <code>rev[10] = "ten"</code>
para aclarar que no se trata de la posición.</p>
<div class="codewrapper sourceCode" id="cb2">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>rev</span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{1: 'one', 2: 'two', 3: 'three'}</code></pre>
</div>
<div class="codewrapper sourceCode" id="cb4">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a>rev[<span class="dv">2</span>] <span class="op">=</span> <span class="st">"apple-sauce"</span></span></code></pre>
</div>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code>{1: 'one', 2: 'apple-sauce', 3: 'three'}</code></pre>
</div>
</div>
</div>
<div class="section level2">
<h2 id="starting-with-data">02-starting-with-data<a class="anchor" aria-label="anchor" href="#starting-with-data"></a>
</h2>
<div class="section level3">
<h3 id="nota-sobre-bugs">Nota sobre bugs<a class="anchor" aria-label="anchor" href="#nota-sobre-bugs"></a>
</h3>
<p>Pandas &lt; .18.1 tiene un error <strong>bug</strong> por el cual
<code>surveys_df['weight'].describe()</code> puede devolver un error en
tiempo de ejecución.</p>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-dataframes">Desafíos sobre DataFrames<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-dataframes"></a>
</h3>
<ul>
<li>
<p><code>surveys_df.columns</code></p>
<p>Nombres de columnas. (Opcional: muestra
<code>surveys_df.columns[4] = "plotid"</code>. El índice no es mutable;
recapitula del episodio anterior. La adaptación del nombre es realizada
por la función <code>rename</code>:
<code>surveys_df.rename(columns={"plot_id": "plotid"})</code>)</p>
</li>
<li>
<p><code>surveys_df.head()</code>. Además, ¿qué realiza
<code>surveys_df.head(15)</code>?</p>
<p>Muestra las primeras 5 líneas. Muestra las primeras 15
líneas.</p>
</li>
<li>
<p><code>surveys_df.tail()</code></p>
<p>Muestra las últimas 15 líneas.</p>
</li>
<li>
<p><code>surveys_df.shape</code>. Toma nota de la salida de
<code>shape</code> - ¿Qué formato tiene la salida del atributo que
regresa la forma de un DataFrame?</p>
<p><code>type(surveys_df.shape)</code> -&gt; <code>Tuple</code></p>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-calcular-estadísticas-de-los-datos">Desafíos sobre calcular estadísticas de los datos<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-calcular-estad%C3%ADsticas-de-los-datos"></a>
</h3>
<ul>
<li>
<p>Crear una lista de los IDs de los sitios <code>plot_id</code> que
están en los datos de la encuesta <code>surveys_df</code>. Llamemos a
esta lista <code>site_names</code>. ¿Cuántos sitios hay en los datos?,
¿cuántas especies hay en los datos?</p>
<p><code>plot_names = pd.unique(surveys_df["plot_id"])</code>. Número de
IDs de los sitios: <code>plot_names.size</code> o
<code>len(plot_names)</code>. Número de especies en los datos:
<code>len(pd.unique(surveys_df["species"]))</code></p>
</li>
<li><p>¿Cuál es la diferencia entre <code>len(plot_names)</code> y
<code>surveys_df['plot_id'].nunique()</code>?</p></li>
</ul>
<p>Ambos resultan en el mismo output, sirviendo como formas alternativas
de obtener los valores únicos. <code>nunique</code> combina el conteo
con la extracción de valores únicos.</p>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-agrupamientos">Desafíos sobre agrupamientos<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-agrupamientos"></a>
</h3>
<ul>
<li>
<p>¿Cuántas observaciones son de sexo femenino <code>F</code> y
cuántas de sexo masculino <code>M</code>?</p>
<p><code>grouped_data.count()</code></p>
</li>
<li>
<p>¿Qué pasa cuando agrupas sobre dos columnas usando el siguiente
enunciado y después tomas los valores medios?</p>
<p>Se calcula el valor medio para cada combinación de
<code>plot_id</code> y <code>sex</code>. Remarca que la media no tiene
sentido para cada variable, así que puedes especificarla por columna:
por ejemplo, si deseas conocer el último año censado, la mediana de las
longitudes de pies y el valor medio del peso para cada combinación de
<code>plot</code> y <code>sex</code>:</p>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb6">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>surveys_df.groupby([<span class="st">'plot_id'</span>,<span class="st">'sex'</span>]).agg({<span class="st">"year"</span>: <span class="st">'min'</span>,</span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>                                           <span class="st">"hindfoot_length"</span>: <span class="st">'median'</span>,</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>                                           <span class="st">"weight"</span>: <span class="st">'mean'</span>})`</span></code></pre>
</div>
<ul>
<li>Calcula las estadísticas descriptivas del peso <code>weight</code>
para cada <code>plot_id</code>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb7">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>surveys_df.groupby([<span class="st">'plot_id'</span>])[<span class="st">'weight'</span>].describe()</span></code></pre>
</div>
<ul>
<li>
<p>¿Qué otra manera hay de crear una lista de especies y asociarle
el número <code>count</code> de las muestras de los datos?</p>
<p>En vez de recuperar y luego contar las columnas resultantes de
<code>groupby</code>, también puedes hacer el recuento junto con
<code>groupby</code> (en todas las columnas) y construir una selección
del <code>DataFrame</code> resultante:
<code>surveys_df.groupby('species_id').count()["record_id"]</code></p>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-gráficos">Desafíos sobre gráficos<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-gr%C3%A1ficos"></a>
</h3>
<ul>
<li>Crea un gráfico del promedio de peso de las especies por sitio.</li>
</ul>
<div class="codewrapper sourceCode" id="cb8">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>surveys_df.groupby(<span class="st">'plot_id'</span>).mean()[<span class="st">"weight"</span>].plot(kind<span class="op">=</span><span class="st">'bar'</span>)</span></code></pre>
</div>
<figure><img src="../fig/01_chall_bar_meanweight.png" alt="promedio de peso de las especies por sitio" class="figure mx-auto d-block"></figure><ul>
<li>Crea una gráfica del total de machos contra el total de hembras para
todo el dataset.</li>
</ul>
<div class="codewrapper sourceCode" id="cb9">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a>surveys_df.groupby(<span class="st">'sex'</span>).count()[<span class="st">"record_id"</span>].plot(kind<span class="op">=</span><span class="st">'bar'</span>)</span></code></pre>
</div>
<figure><img src="../fig/01_chall_bar_totalsex.png" alt="total de machos contra el total de hembras para todo el dataset" class="figure mx-auto d-block"></figure>
</div>
</div>
<div class="section level2">
<h2 id="index-slice-subset">03-index-slice-subset<a class="anchor" aria-label="anchor" href="#index-slice-subset"></a>
</h2>
<p>Sugerencia: usa el método <code>.head()</code> a lo largo de esta
lección con el fin de mantener tu pantalla limpia. Anima a las
estudiantes a probar comandos con y sin <code>.head()</code> para
reforzar la utilidad de esta herramienta y luego emplearla, o no, según
su preferencia. Por ejemplo, si una estudiante muestra preocupación por
mantener el ritmo de tipeo, infórmale que puede evitar
<code>.head()</code>, pero que tú lo usarás para mantener visibles más
líneas anteriores de código.</p>
<div class="section level3">
<h3 id="desafíos-sobre-indexación">Desafíos sobre indexación<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-indexaci%C3%B3n"></a>
</h3>
<ul>
<li>
<p>¿Qué valor devuelve el siguiente código? <code>a[0]</code></p>
<p><code>1</code>, ya que Python comienza por el elemento 0 (para
usuarios de Matlab: ¡esto es diferente!)</p>
</li>
<li>
<p>¿Qué valor devuelve éste? <code>a[5]</code></p>
<p><code>IndexError</code></p>
</li>
<li>
<p>En el ejemplo anterior, llamar a <code>a [5]</code> devuelve un
error. ¿Por qué?</p>
<p>La lista no tiene ningún elemento con índice 5 (va de 0 a
4).</p>
</li>
<li>
<p>¿Qué tal éste? <code>a[len(a)]</code></p>
<p><code>IndexError</code></p>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-rangos">Desafíos sobre rangos<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-rangos"></a>
</h3>
<ul>
<li>
<p>¿Qué ocurre al ejecutar el siguiente código?</p>
<p><code>surveys_df[0:1]</code> selecciona sólo el primer elemento
<code>surveys_df[:4]</code> seleccionar desde el primer elemento hace
redundante escribir el 0 <code>surveys_df[-1:]</code> puedes contar
hacia atrás</p>
<p><em>Sugerencia</em>: También puedes seleccionar cada N-ésima fila:
<code>surveys_df[1:10:2]</code>. Entonces, ¿cómo interpretas
<code>surveys_df[::-1]</code>?</p>
</li>
<li>
<p>¿Qué pasa al ejecutar este otro?:
<code>surveys_df.iloc[0:4, 1:4]</code> y
<code>surveys_df.loc[0:4, 1:4]</code>? ¿Qué diferencia observas entre
los resultados de los comandos inmediatamente anteriores?</p>
<p>Revisa la posición, o el nombre. La segunda opción se asemeja a
consultar un diccionario por nombres de llaves. Los nombres de columnas
1:4 no existen, resultando en un error. Revisa también la diferencia
entre <code>surveys_df.loc[0:4]</code> y
<code>surveys_df.iloc[0:4]</code></p>
</li>
</ul>
</div>
<div class="section level3">
<h3 id="desafíos-avanzados-sobre-queries">Desafíos avanzados sobre <strong>queries</strong>
<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-avanzados-sobre-queries"></a>
</h3>
<ul>
<li>
<p>Selecciona un subconjunto de filas, en el <code>DataFrame</code>
<code>surveys_df</code>, que contenga datos desde el año 1999 y que
contenga valores en <code>weight</code> menores o iguales a 8. ¿Cuántas
filas obtuviste como resultado? ¿Cuántas filas obtuvo tu compañera?</p>
<p><code>surveys_df[(surveys_df["year"] == 1999) &amp; (surveys_df["weight"] &lt;= 8)]</code>;
cuándo sólo te interesa el número final, también puede utilizarse la
suma de valores <code>True</code>:
<code>sum((surveys_df["year"] == 1999) &amp; (surveys_df["weight"] &lt;= 8))</code></p>
</li>
<li>
<p>Puedes usar la función <code>isin</code> de Python para hacer una
consulta, a un <code>DataFrame</code>, basada en una lista de valores
según se muestra a continuación:
<code>surveys_df[surveys_df['species_id'].isin([listGoesHere])]</code>.
Usa la función <code>isin</code> para encontrar todos los
<code>plots</code> que contienen una especie en particular en el
<code>DataFrame</code> <code>surveys_df</code>. ¿Cuántos registros
contienen esos valores?</p>
<p>Por ejemplo, usa <code>PB</code> y <code>PL</code>:
<code>surveys_df[surveys_df['species_id'].isin(['PB', 'PL'])]['plot_id'].unique()</code>
provee una lista de todos los gráficos en los que están involucradas
estas especies. Con
<code>surveys_df[surveys_df['species_id'].isin(['PB', 'PL'])].shape</code>
se puede obtener el número de registros.</p>
</li>
<li>
<p>Experimenta con otras consultas. Crea una consulta que encuentre
todas las filas con el valor de <code>weight</code> mayor o igual a
0.</p>
<p><code>surveys_df[surveys_df["weight"] &gt;= 0]</code></p>
<p><em>Sugerencia</em>: Puedes presentar aquí que todas estas
operaciones de segmentación se basan realmente en operaciones de
<em>indexado booleano</em> (la siguiente sección en esta lección). El
filtrado indica para cada registro si éste satisface (<code>True</code>)
o no (<code>False</code>) una condición. La segmentación se realiza por
interpretación del valor <code>True</code>/<code>Falso</code> de cada
registro.</p>
</li>
<li><p>El símbolo <code>~</code> en Python puede ser usado para obtener
lo <strong>opuesto</strong> a los datos seleccionados que hayas
especificado en Python. Es equivalente a <strong>no esta en</strong>.
Escribe una consulta que seleccione todas las filas con <code>sex</code>
diferente de ‘M’ o ‘F’ en los datos de <code>surveys</code>.</p></li>
</ul>
<div class="codewrapper sourceCode" id="cb10">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>surveys_df[<span class="op">~</span>surveys_df[<span class="st">"sex"</span>].isin([<span class="st">'M'</span>, <span class="st">'F'</span>])]</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-máscaras">Desafíos sobre máscaras<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-m%C3%A1scaras"></a>
</h3>
<ul>
<li>Crea un nuevo objeto <code>DataFrame</code> que solamente contenga
observaciones cuyos valores en la columna <code>sex</code>
<strong>no</strong> sean <code>female</code> o <code>male</code>. Asigna
cada valor de <code>sex</code> en el nuevo <code>DataFrame</code> a un
nuevo valor de ‘x’. Determina el número total de valores
<code>null</code> en el subconjunto.</li>
</ul>
<div class="codewrapper sourceCode" id="cb11">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>new <span class="op">=</span> surveys_df[<span class="op">~</span>surveys_df[<span class="st">'sex'</span>].isin([<span class="st">'M'</span>, <span class="st">'F'</span>])].copy()</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a>new[<span class="st">'sex'</span>]<span class="op">=</span><span class="st">'x'</span></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="bu">len</span>(new))</span></code></pre>
</div>
<p>Puedes verificar el número de valores Nan con
<code>sum(surveys_df['sex'].isnull())</code>, que resulta igual al
número de registros que no son <code>female</code> ni
<code>male</code>.</p>
<ul>
<li>Crea un nuevo objeto <code>DataFrame</code> que contenga solo
observaciones cuyos valores en la columna <code>sex</code> sean
<code>male</code> o <code>female</code> y en los cuales el valor de
<code>weight</code> sea mayor que 0. Luego, crea un gráfico de barra
apiladas del promedio de <code>weight</code>, por parcela, con valores
<code>male</code> versus <code>female</code> apilados por cada
parcela.</li>
</ul>
<div class="codewrapper sourceCode" id="cb12">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="co"># selecciona los datos con isin:</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>stack_selection <span class="op">=</span> surveys_df[(surveys_df[<span class="st">'sex'</span>].isin([<span class="st">'M'</span>, <span class="st">'F'</span>])) <span class="op">&amp;</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>							surveys_df[<span class="st">"weight"</span>] <span class="op">&gt;</span> <span class="fl">0.</span>][[<span class="st">"sex"</span>, <span class="st">"weight"</span>, <span class="st">"plot_id"</span>]]</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="co"># calcula el promedio de weight para cada combinación de plot_id y sex:</span></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>stack_selection <span class="op">=</span> stack_selection.groupby([<span class="st">"plot_id"</span>, <span class="st">"sex"</span>]).mean().unstack()</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="co"># podemos representarlo como un gráfico de barras apiladas:</span></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>stack_selection.plot(kind<span class="op">=</span><span class="st">'bar'</span>, stacked<span class="op">=</span><span class="va">True</span>)</span></code></pre>
</div>
<p><em>Sugerencia</em>: Como sabemos que todos los otros valores son
Nan, podemos seleccionar también todos los valores que no sean
<code>null</code> (esto es sólo un vistazo previo, habrá más al respecto
en la siguiente lección):</p>
<div class="codewrapper sourceCode" id="cb13">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a>stack_selection <span class="op">=</span> surveys_df[(surveys_df[<span class="st">'sex'</span>].notnull()) <span class="op">&amp;</span></span>
<span id="cb13-2"><a href="#cb13-2" aria-hidden="true" tabindex="-1"></a>					surveys_df[<span class="st">"weight"</span>] <span class="op">&gt;</span> <span class="fl">0.</span>][[<span class="st">"sex"</span>, <span class="st">"weight"</span>, <span class="st">"plot_id"</span>]]</span></code></pre>
</div>
<figure><img src="../fig/02_chall_stack_levelissue.png" alt="promedio de weight para cada plot por sex" class="figure mx-auto d-block"></figure><p>Sin embargo, debido al comando <code>unstack</code>, el encabezado de
la leyenda contiene dos niveles. Para removerlo, los nombres de columnas
deben ser simplificados:</p>
<div class="codewrapper sourceCode" id="cb14">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>stack_selection.columns <span class="op">=</span> stack_selection.columns.droplevel()</span></code></pre>
</div>
<figure><img src="../fig/02_chall_stack_level.png" alt="promedio de weight para cada plot_id por sex" class="figure mx-auto d-block"></figure>
</div>
</div>
<div class="section level2">
<h2 id="data-types-and-format">04-data-types-and-format<a class="anchor" aria-label="anchor" href="#data-types-and-format"></a>
</h2>
<div class="section level3">
<h3 id="desafíos-sobre-cambiar-tipos">Desafíos sobre cambiar tipos<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-cambiar-tipos"></a>
</h3>
<ul>
<li>Intenta convertir la columna <code>plot_id</code> a
<strong>float</strong> usando
<code>surveys_df.plot_id.astype("float")</code>. A continuación, intenta
convertir <code>weight</code> (peso) en un <strong>integer</strong>.
¿Qué te dice Pandas? ¿Qué es lo que va mal ahí?</li>
</ul>
<p>Pandas no puede convertir datos de tipo <strong>float</strong> a
<strong>int</strong> si la columna contiene valores NaN.</p>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-cuentas">Desafíos sobre cuentas<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-cuentas"></a>
</h3>
<ul>
<li>Cuenta el número de valores perdidos por columna. Sugerencia: el
método <code>.count()</code> te proporciona el número de observaciones
que no son NA por columna. Examina el método
<code>.isnull()</code>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb15">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>surveys_df.isnull()</span></code></pre>
</div>
<p>Si las estudiantes tienen problemas para generar el output, u ocurre
algo con éste, existe un archivo llamado “sample output” con los datos
que ellas deben generar.</p>
</div>
</div>
<div class="section level2">
<h2 id="merging-data">05-merging-data<a class="anchor" aria-label="anchor" href="#merging-data"></a>
</h2>
<ul>
<li>En la carpeta de datos, hay dos archivos de datos de encuestas:
<code>survey2001.csv</code> y <code>survey2002.csv</code>. Lee los datos
en Python y combina los archivos para hacer un DataFrame nuevo. Crea una
gráfica del peso promedio de la parcela, <code>plot_id</code>, por año
agrupada por <code>sex</code>. Exporta tus resultados como CSV y
asegúrate de que se lean correctamente en Python..</li>
</ul>
<div class="codewrapper sourceCode" id="cb16">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="co"># lee los archivos:</span></span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>survey2001 <span class="op">=</span> pd.read_csv(<span class="st">"data/survey2001.csv"</span>)</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>survey2002 <span class="op">=</span> pd.read_csv(<span class="st">"data/survey2002.csv"</span>)</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a><span class="co"># concatena los archivos:</span></span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>survey_all <span class="op">=</span> pd.concat([survey2001, survey2002], axis<span class="op">=</span><span class="dv">0</span>)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a><span class="co"># recupera el peso de cada año, agrupado por sexo:</span></span>
<span id="cb16-7"><a href="#cb16-7" aria-hidden="true" tabindex="-1"></a>weight_year <span class="op">=</span> survey_all.groupby([<span class="st">'year'</span>, <span class="st">'sex'</span>]).mean()[<span class="st">"wgt"</span>].unstack()</span>
<span id="cb16-8"><a href="#cb16-8" aria-hidden="true" tabindex="-1"></a><span class="co"># genera el gráfico:</span></span>
<span id="cb16-9"><a href="#cb16-9" aria-hidden="true" tabindex="-1"></a>weight_year.plot(kind<span class="op">=</span><span class="st">"bar"</span>)</span>
<span id="cb16-10"><a href="#cb16-10" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()  <span class="co"># tip(!)</span></span></code></pre>
</div>
<figure><img src="../fig/04_chall_weight_year.png" alt="peso promedio por año, agrupado por sexo" class="figure mx-auto d-block"></figure><div class="codewrapper sourceCode" id="cb17">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="co"># escribe a un archivo:</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>weight_year.to_csv(<span class="st">"weight_for_year.csv"</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="co"># lee los datos de nuevo:</span></span>
<span id="cb17-4"><a href="#cb17-4" aria-hidden="true" tabindex="-1"></a>pd.read_csv(<span class="st">"weight_for_year.csv"</span>, index_col<span class="op">=</span><span class="dv">0</span>)</span></code></pre>
</div>
<ul>
<li>Cree un nuevo DataFrame uniendo los contenidos de las tablas
<code>surveys.csv</code> y <code>species.csv</code>.</li>
</ul>
<div class="codewrapper sourceCode" id="cb18">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a>merged_left <span class="op">=</span> pd.merge(left<span class="op">=</span>surveys_df,right<span class="op">=</span>species_df, how<span class="op">=</span><span class="st">'left'</span>, on<span class="op">=</span><span class="st">"species_id"</span>)</span></code></pre>
</div>
<p>Luego calcula y crea un gráfico de la distribución de:</p>
<p><strong>1. taxa por parcela</strong> (número de especies de cada taxa
por parcela):</p>
<p>La distribución de especies (número de taxa por cada parcela) puede
calcularse de la siguiente forma:</p>
<div class="codewrapper sourceCode" id="cb19">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>merged_left.groupby([<span class="st">"plot_id"</span>])[<span class="st">"taxa"</span>].nunique().plot(kind<span class="op">=</span><span class="st">'bar'</span>)</span></code></pre>
</div>
<figure><img src="../fig/04_chall_ntaxa_per_site.png" alt="taxa por parcela" class="figure mx-auto d-block"></figure><p><em>Sugerencia</em>: También es posible graficar el número de
invididuos de cada taxa en cada parcela (gráfico de barras
apiladas):</p>
<div class="codewrapper sourceCode" id="cb20">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a>merged_left.groupby([<span class="st">"plot_id"</span>, <span class="st">"taxa"</span>]).count()[<span class="st">"record_id"</span>].unstack().plot(kind<span class="op">=</span><span class="st">'bar'</span>, stacked<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper center'</span>, ncol<span class="op">=</span><span class="dv">3</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="fl">1.05</span>))</span></code></pre>
</div>
<p>(de otro modo, la leyenda se superpone con el gráfico de barras)</p>
<figure><img src="../fig/04_chall_taxa_per_site.png" alt="taxa por parcela" class="figure mx-auto d-block"></figure><p><strong>2. taxa por sexo por parcela</strong>: Otorguemos los valores
‘M|F’ a los valores Nan (también podrían cambiarse a ‘x’):</p>
<div class="codewrapper sourceCode" id="cb21">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>merged_left.loc[merged_left[<span class="st">"sex"</span>].isnull(), <span class="st">"sex"</span>] <span class="op">=</span> <span class="st">'M|F'</span></span></code></pre>
</div>
<p>Número de taxa por cada combinación de parcela/sexo:</p>
<div class="codewrapper sourceCode" id="cb22">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a>ntaxa_sex_site<span class="op">=</span> merged_left.groupby([<span class="st">"plot_id"</span>, <span class="st">"sex"</span>])[<span class="st">"taxa"</span>].nunique().reset_index(level<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a>ntaxa_sex_site <span class="op">=</span> ntaxa_sex_site.pivot_table(values<span class="op">=</span><span class="st">"taxa"</span>, columns<span class="op">=</span><span class="st">"sex"</span>, index<span class="op">=</span>ntaxa_sex_site.index)</span>
<span id="cb22-3"><a href="#cb22-3" aria-hidden="true" tabindex="-1"></a>ntaxa_sex_site.plot(kind<span class="op">=</span><span class="st">"bar"</span>, legend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb22-4"><a href="#cb22-4" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper center'</span>, ncol<span class="op">=</span><span class="dv">3</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="fl">1.08</span>),</span>
<span id="cb22-5"><a href="#cb22-5" aria-hidden="true" tabindex="-1"></a>           fontsize<span class="op">=</span><span class="st">'small'</span>, frameon<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<figure><img src="../fig/04_chall_ntaxa_per_site_sex.png" alt="taxa por parcela por sexo" class="figure mx-auto d-block"></figure><p><em>Sugerencia (sólo para discutir))</em>:</p>
<p>También puede calcularse el número de individuos de cada taxa en cada
parcela y por sexo:</p>
<div class="codewrapper sourceCode" id="cb23">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>sex_taxa_site  <span class="op">=</span> merged_left.groupby([<span class="st">"plot_id"</span>, <span class="st">"taxa"</span>, <span class="st">"sex"</span>]).count()[<span class="st">'record_id'</span>]</span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>sex_taxa_site.unstack(level<span class="op">=</span>[<span class="dv">1</span>, <span class="dv">2</span>]).plot(kind<span class="op">=</span><span class="st">'bar'</span>, logy<span class="op">=</span><span class="va">True</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper center'</span>, ncol<span class="op">=</span><span class="dv">3</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="fl">1.15</span>),</span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a>           fontsize<span class="op">=</span><span class="st">'small'</span>, frameon<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<figure><img src="../fig/04_chall_sex_taxa_site_intro.png" alt="taxa por parcela por sexo" class="figure mx-auto d-block"></figure><p>En verdad, éste gráfico no es el mejor que podría elegirse, pues no
es legible… Una primera alternativa para mejorarlo es utilizar
<strong>facets</strong>. Sin embargo, pandas/matplotlib no los provee
por defecto. Un ejemplo en matplotlib puro (usando <code>M|F</code> para
registros sin sexo definido):</p>
<div class="codewrapper sourceCode" id="cb24">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>fig, axs <span class="op">=</span> plt.subplots(<span class="dv">3</span>, <span class="dv">1</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> sex, ax <span class="kw">in</span> <span class="bu">zip</span>([<span class="st">"M"</span>, <span class="st">"F"</span>, <span class="st">"M|F"</span>], axs):</span>
<span id="cb24-3"><a href="#cb24-3" aria-hidden="true" tabindex="-1"></a>    sex_taxa_site[sex_taxa_site[<span class="st">"sex"</span>] <span class="op">==</span> sex].plot(kind<span class="op">=</span><span class="st">'bar'</span>, ax<span class="op">=</span>ax, legend<span class="op">=</span><span class="va">False</span>)</span>
<span id="cb24-4"><a href="#cb24-4" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(sex)</span>
<span id="cb24-5"><a href="#cb24-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="kw">not</span> ax.is_last_row():</span>
<span id="cb24-6"><a href="#cb24-6" aria-hidden="true" tabindex="-1"></a>        ax.set_xticks([])</span>
<span id="cb24-7"><a href="#cb24-7" aria-hidden="true" tabindex="-1"></a>        ax.set_xlabel(<span class="st">""</span>)</span>
<span id="cb24-8"><a href="#cb24-8" aria-hidden="true" tabindex="-1"></a>axs[<span class="dv">0</span>].legend(loc<span class="op">=</span><span class="st">'upper center'</span>, ncol<span class="op">=</span><span class="dv">5</span>, bbox_to_anchor<span class="op">=</span>(<span class="fl">0.5</span>, <span class="fl">1.3</span>),</span>
<span id="cb24-9"><a href="#cb24-9" aria-hidden="true" tabindex="-1"></a>              fontsize<span class="op">=</span><span class="st">'small'</span>, frameon<span class="op">=</span><span class="va">False</span>)</span></code></pre>
</div>
<figure><img src="../fig/04_chall_sex_taxa_site.png" alt="taxa por parcela por sexo" class="figure mx-auto d-block"></figure><p>Sin embargo, sería mejor indicar <a href="https://stanford.edu/~mwaskom/software/seaborn/" class="external-link">Seaborn</a> y <a href="https://github.com/ellisonbg/altair" class="external-link">Altair</a> por sus tipos de
visualizaciones multivariadas.</p>
<ul>
<li>En la carpeta de datos, hay un archivo <code>plots.csv</code> que
contiene información sobre el tipo asociado con cada parcela. Usa esos
datos para resumir el número de parcelas por tipo de parcela.</li>
</ul>
<div class="codewrapper sourceCode" id="cb25">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>plot_info <span class="op">=</span> pd.read_csv(<span class="st">"data/plots.csv"</span>)</span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>plot_info.groupby(<span class="st">"plot_type"</span>).count()</span></code></pre>
</div>
<ul>
<li>Calcula un índice de diversidad de su elección para control vs
parcelas de rodamiento de roedores. El índice debe considerar tanto la
abundancia de especies como el número de especies. Puedes optar por
utilizar el simple <a href="http://www.amnh.org/explore/curriculum-collections/biodiversity-counts/plant-ecology/how-to-calculate-a-biodiversity-index" class="external-link">índice
de biodiversidad descrito aquí</a> que calcula la biodiversidad como:
<code>el número de especies en la parcela / el número total de individuos en la parcela = índice de biodiversidad.</code>
</li>
</ul>
<div class="codewrapper sourceCode" id="cb26">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>merged_site_type <span class="op">=</span> pd.merge(merged_left, plot_info, on<span class="op">=</span><span class="st">'plot_id'</span>)</span>
<span id="cb26-2"><a href="#cb26-2" aria-hidden="true" tabindex="-1"></a><span class="co"># para cada parcela, recupera el número de especies por parcela</span></span>
<span id="cb26-3"><a href="#cb26-3" aria-hidden="true" tabindex="-1"></a>nspecies_site <span class="op">=</span> merged_site_type.groupby([<span class="st">"plot_id"</span>])[<span class="st">"species"</span>].nunique().rename(<span class="st">"nspecies"</span>)</span>
<span id="cb26-4"><a href="#cb26-4" aria-hidden="true" tabindex="-1"></a><span class="co"># para cada parcela, recupera el número de individuos</span></span>
<span id="cb26-5"><a href="#cb26-5" aria-hidden="true" tabindex="-1"></a>nindividuals_site <span class="op">=</span> merged_site_type.groupby([<span class="st">"plot_id"</span>]).count()[<span class="st">'record_id'</span>].rename(<span class="st">"nindiv"</span>)</span>
<span id="cb26-6"><a href="#cb26-6" aria-hidden="true" tabindex="-1"></a><span class="co"># combina las dos series</span></span>
<span id="cb26-7"><a href="#cb26-7" aria-hidden="true" tabindex="-1"></a>diversity_index <span class="op">=</span> pd.concat([nspecies_site, nindividuals_site], axis<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb26-8"><a href="#cb26-8" aria-hidden="true" tabindex="-1"></a><span class="co"># calcula el índice de diversidad</span></span>
<span id="cb26-9"><a href="#cb26-9" aria-hidden="true" tabindex="-1"></a>diversity_index[<span class="st">'diversity'</span>] <span class="op">=</span> diversity_index[<span class="st">'nspecies'</span>]<span class="op">/</span>diversity_index[<span class="st">'nindiv'</span>]</span></code></pre>
</div>
<p>Generando un gráfico de barras:</p>
<div class="codewrapper sourceCode" id="cb27">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>diversity_index[<span class="st">'diversity'</span>].plot(kind<span class="op">=</span><span class="st">"barh"</span>)</span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">"Diversity index"</span>)</span></code></pre>
</div>
<figure><img src="../fig/04_chall_diversity_index.png" alt="taxa por parcela por sexo" class="figure mx-auto d-block"></figure>
</div>
<div class="section level2">
<h2 id="loops-and-functions">06-loops-and-functions<a class="anchor" aria-label="anchor" href="#loops-and-functions"></a>
</h2>
<div class="section level3">
<h3 id="desafíos-sobre-bucles-básicos">Desafíos sobre bucles básicos<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-bucles-b%C3%A1sicos"></a>
</h3>
<ul>
<li>
<p>¿Qué pasa si no incluimos la palabra clave <code>pass</code>?</p>
<p><code>SyntaxError:</code></p>
</li>
<li><p>Reescribe el bucle de tal forma que los animales estén separados
por comas y no por una línea nueva. (Pista: Puedes concatenar cadenas de
caracteres usando el signo más. Por ejemplo,
<code>print(string1 + string2)</code> resulta en
‘string1string2’).</p></li>
</ul>
<div class="codewrapper sourceCode" id="cb28">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> creature <span class="kw">in</span> animals:</span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(creature<span class="op">+</span><span class="st">','</span>, end<span class="op">=</span><span class="st">''</span>)</span></code></pre>
</div>
<p>Este bucle también agrega una coma luego del último animal. Una
solución mejor, sin bucles, sería: <code>','.join(animals)</code></p>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-modificación-de-bucles">Desafíos sobre modificación de bucles<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-modificaci%C3%B3n-de-bucles"></a>
</h3>
<ul>
<li>Algunas de las encuestas que guardaste tienen datos faltantes
(tienen valores nulos que salen como <code>NaN</code> - No es un número
(en inglés) - en los DataFrames y no salen en los archivos de texto).
Modifica el bucle <strong>for</strong> para que las entradas que tengan
valores nulos no sean incluidas en los archivos anuales.</li>
</ul>
<div class="codewrapper sourceCode" id="cb29">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>surveys_year <span class="op">=</span> surveys_df[surveys_df.year <span class="op">==</span> year].dropna()</span></code></pre>
</div>
<ul>
<li>Supongamos que solo quieres revisar los datos cada cierto múltiplo
de años. ¿Cómo modificarías el bucle para generar un archivo de datos
cada cinco años comenzando desde 1977?</li>
</ul>
<p>Aunque podrías hacer la lista manualmente, ¿por qué no recuperas el
primer y el último año a partir del código?</p>
<div class="codewrapper sourceCode" id="cb30">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>n_year <span class="op">=</span> <span class="dv">5</span>  <span class="co"># mejor visión general si defines una variable</span></span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>first_year <span class="op">=</span> surveys_df[<span class="st">'year'</span>].<span class="bu">min</span>()</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>last_year <span class="op">=</span> surveys_df[<span class="st">'year'</span>].<span class="bu">max</span>()</span>
<span id="cb30-4"><a href="#cb30-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-5"><a href="#cb30-5" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(first_year, last_year, n_year):</span>
<span id="cb30-6"><a href="#cb30-6" aria-hidden="true" tabindex="-1"></a>    <span class="bu">print</span>(year)</span>
<span id="cb30-7"><a href="#cb30-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb30-8"><a href="#cb30-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Selecciona los datos para los años correctos</span></span>
<span id="cb30-9"><a href="#cb30-9" aria-hidden="true" tabindex="-1"></a>    surveys_year <span class="op">=</span> surveys_df[surveys_df.year <span class="op">==</span> year].dropna()</span></code></pre>
</div>
<ul>
<li>En vez de separar la información por años, un colega tuyo quiere
hacer el análisis separando por especies. ¿Cómo escribirías un único
archivo CSV por cada especie?</li>
</ul>
<p>De forma similar al ejemplo anterior, pero usando la columna
<code>species_id</code>: <code>surveys_df['species_id'].unique()</code>.
Sin embargo, usar los nombres de especies mejoraría la interpretación de
los nombres de archivos. Un <code>join</code> con las especies:
<code>merged_left = pd.merge(left=surveys,right=species, how='left', on="species_id")</code>
y usando la columna <code>species</code>.</p>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-funciones">Desafíos sobre funciones<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-funciones"></a>
</h3>
<ul>
<li>Cambia los valores de los argumentos en la función y mira su
salida.</li>
<li>Intenta llamar a la función usando la cantidad equivocada de
argumentos (es decir, diferente de 2) o sin asignar la llamada de la
función a una variable (sin poner
<code>product_of_inputs =</code>).</li>
<li>Declara una variable dentro de una función y prueba a encontrar en
dónde existe (Pista: ¿puedes imprimirla desde fuera de la función?)</li>
<li>Explora qué sucede cuando una variable tiene el mismo nombre adentro
y afuera de la función. ¿Qué le ocurre a la variable global cuando
cambias el valor de la variable local?</li>
</ul>
<p>Para mayor claridad, ¡demuéstralo en un entorno de
<strong>debugging</strong>!</p>
</div>
<div class="section level3">
<h3 id="desafíos-adicionales-sobre-funciones">Desafíos adicionales sobre funciones<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-adicionales-sobre-funciones"></a>
</h3>
<ul>
<li>Añade dos argumentos a las funciones que escribimos que tomen el
<strong>path</strong> del directorio donde los archivos serán escritos y
el root del nombre del archivo. Crea un nuevo conjunto de archivos con
un nombre diferente en un directorio diferente.</li>
</ul>
<div class="codewrapper sourceCode" id="cb31">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> one_year_csv_writer(this_year, all_data, folder_to_save, root_name):</span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb31-3"><a href="#cb31-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Escribe un archivo csv para los datos de un año dado.</span></span>
<span id="cb31-4"><a href="#cb31-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-5"><a href="#cb31-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parámetros</span></span>
<span id="cb31-6"><a href="#cb31-6" aria-hidden="true" tabindex="-1"></a><span class="co">    ---------</span></span>
<span id="cb31-7"><a href="#cb31-7" aria-hidden="true" tabindex="-1"></a><span class="co">    this_year : int</span></span>
<span id="cb31-8"><a href="#cb31-8" aria-hidden="true" tabindex="-1"></a><span class="co">        año para el cual se extraen datos</span></span>
<span id="cb31-9"><a href="#cb31-9" aria-hidden="true" tabindex="-1"></a><span class="co">    all_data: pd.DataFrame</span></span>
<span id="cb31-10"><a href="#cb31-10" aria-hidden="true" tabindex="-1"></a><span class="co">        DataFrame con datos de múltiples años</span></span>
<span id="cb31-11"><a href="#cb31-11" aria-hidden="true" tabindex="-1"></a><span class="co">    folder_to_save : str</span></span>
<span id="cb31-12"><a href="#cb31-12" aria-hidden="true" tabindex="-1"></a><span class="co">        carpeta para guardar los archivos de datos</span></span>
<span id="cb31-13"><a href="#cb31-13" aria-hidden="true" tabindex="-1"></a><span class="co">    root_name: str</span></span>
<span id="cb31-14"><a href="#cb31-14" aria-hidden="true" tabindex="-1"></a><span class="co">        raíz de los nombres de archivo donde se guardan los datos</span></span>
<span id="cb31-15"><a href="#cb31-15" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb31-16"><a href="#cb31-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-17"><a href="#cb31-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Selecciona datos para el año</span></span>
<span id="cb31-18"><a href="#cb31-18" aria-hidden="true" tabindex="-1"></a>    surveys_year <span class="op">=</span> all_data[all_data.year <span class="op">==</span> this_year]</span>
<span id="cb31-19"><a href="#cb31-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb31-20"><a href="#cb31-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Escribe el nuevo DataFrame a un archivo csv</span></span>
<span id="cb31-21"><a href="#cb31-21" aria-hidden="true" tabindex="-1"></a>    filename <span class="op">=</span> os.path.join(folder_to_save, <span class="st">''</span>.join([root_name, <span class="bu">str</span>(this_year), <span class="st">'.csv'</span>]))</span>
<span id="cb31-22"><a href="#cb31-22" aria-hidden="true" tabindex="-1"></a>    surveys_year.to_csv(filename)</span></code></pre>
</div>
<p>También adapta la función <code>yearly_data_csv_writer</code> con los
<strong>inputs</strong> adicionales.</p>
<ul>
<li>¿Cómo podrías usar la función <code>yearly_data_csv_writer</code>
para crear un archivo CSV para solo un año? (Pista: piensa sobre la
sintaxis para <code>range</code>)</li>
</ul>
<p>Adapta los argumentos de entrada, por ejemplo: 1978, 1979.</p>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-manejo-de-output">Desafíos sobre manejo de output<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-manejo-de-output"></a>
</h3>
<ul>
<li>Haz que las funciones retornen una lista de los archivos que
escribieron. Hay muchas formas en las que puedes hacer esto (¡y deberías
intentarlas todas!):
<ul>
<li>cualquiera de las dos funciones podría imprimir algo en pantalla,
Sólo agrega el comando
<code>print("year " + str(this_year)+ " written to disk")</code>
</li>
<li>cualquiera podría usar <code>return</code> para retornar números o
cadenas de caracteres cada vez que se llaman,</li>
<li>o podrías hacer una combinación de estas dos estrategias.</li>
<li>Podrías también intentar usar la librería <code>os</code> para
listar los contenidos de directorios. <code>os.listdir</code>
</li>
</ul>
</li>
</ul>
<p>Implementación dentro de la función:</p>
<div class="codewrapper sourceCode" id="cb32">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>filenames <span class="op">=</span> []</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> year <span class="kw">in</span> <span class="bu">range</span>(start_year, end_year<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>    filenames.append(one_year_csv_writer(year, all_data, folder_to_save, root_name))</span>
<span id="cb32-4"><a href="#cb32-4" aria-hidden="true" tabindex="-1"></a><span class="cf">return</span> filenames</span></code></pre>
</div>
<ul>
<li><p>Explora qué sucede cuando las variables son declaradas dentro de
cada una de las funciones versus en el cuerpo principal de tu código (lo
que está sin indentar). ¿Cuál es el alcance de las variables (es decir,
dónde son visibles)?, ¿qué ocurre si tienen el mismo nombre pero valores
diferentes?</p></li>
<li><p>¿Qué tipo de objeto corresponde a una variable declarada como
<code>None</code>? (Pista: crea una variable con el valor
<code>None</code> y usa la función <code>type()</code>)</p></li>
</ul>
<div class="codewrapper">
<h3 class="code-label">OUTPUT<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="output" tabindex="0"><code><span><span class="va">NoneType</span></span></code></pre>
</div>
<ul>
<li><p>Compara el comportamiento de la función
<code>yearly_data_arg_test</code> cuando los argumentos tienen
<code>None</code> como valor por defecto y cuando no tienen valores por
defecto.</p></li>
<li><p>¿Qué ocurre si solo incluimos un valor para
<code>start_year</code> al llamar a la función?, ¿puedes escribir una
llamada a la función con solo un valor para <code>end_year</code>?
(Pista: piensa en cómo la función debe estar asignándole valores a cada
uno de sus argumentos - ¡esto está relacionado con la necesidad de poner
los argumentos que no tienen valores por defecto antes de los que sí
tienen valores por defecto en la definición de la función!)</p></li>
</ul>
<div class="codewrapper sourceCode" id="cb34">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a>yearly_data_arg_test(surveys_df, end_year<span class="op">=</span><span class="dv">2001</span>)</span></code></pre>
</div>
</div>
<div class="section level3">
<h3 id="desafíos-sobre-modificación-de-funciones">Desafíos sobre modificación de funciones<a class="anchor" aria-label="anchor" href="#desaf%C3%ADos-sobre-modificaci%C3%B3n-de-funciones"></a>
</h3>
<ul>
<li>Reescribe las funciones <code>one_year_csv_writer</code> y
<code>yearly_data_csv_writer</code> para que tengan argumentos keyword
con valores por defecto.</li>
</ul>
<div class="codewrapper sourceCode" id="cb35">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> one_year_csv_writer(this_year, all_data, folder_to_save<span class="op">=</span><span class="st">'./'</span>, root_name<span class="op">=</span><span class="st">'survey'</span>):</span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a><span class="co">    Escribe un archivo csv para los datos de un año dado.</span></span>
<span id="cb35-4"><a href="#cb35-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-5"><a href="#cb35-5" aria-hidden="true" tabindex="-1"></a><span class="co">    Parámetros</span></span>
<span id="cb35-6"><a href="#cb35-6" aria-hidden="true" tabindex="-1"></a><span class="co">    ---------</span></span>
<span id="cb35-7"><a href="#cb35-7" aria-hidden="true" tabindex="-1"></a><span class="co">    this_year : int</span></span>
<span id="cb35-8"><a href="#cb35-8" aria-hidden="true" tabindex="-1"></a><span class="co">        año para el cual se extraen datos</span></span>
<span id="cb35-9"><a href="#cb35-9" aria-hidden="true" tabindex="-1"></a><span class="co">    all_data: pd.DataFrame</span></span>
<span id="cb35-10"><a href="#cb35-10" aria-hidden="true" tabindex="-1"></a><span class="co">        DataFrame con datos de múltiples años</span></span>
<span id="cb35-11"><a href="#cb35-11" aria-hidden="true" tabindex="-1"></a><span class="co">    folder_to_save : str</span></span>
<span id="cb35-12"><a href="#cb35-12" aria-hidden="true" tabindex="-1"></a><span class="co">        carpeta para guardar los archivos de datos</span></span>
<span id="cb35-13"><a href="#cb35-13" aria-hidden="true" tabindex="-1"></a><span class="co">    root_name: str</span></span>
<span id="cb35-14"><a href="#cb35-14" aria-hidden="true" tabindex="-1"></a><span class="co">        raíz de los nombres de archivo donde se guardan los datos</span></span>
<span id="cb35-15"><a href="#cb35-15" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb35-16"><a href="#cb35-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-17"><a href="#cb35-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Selecciona datos para el año</span></span>
<span id="cb35-18"><a href="#cb35-18" aria-hidden="true" tabindex="-1"></a>    surveys_year <span class="op">=</span> all_data[all_data.year <span class="op">==</span> this_year]</span>
<span id="cb35-19"><a href="#cb35-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb35-20"><a href="#cb35-20" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Escribe el nuevo DataFrame a un archivo csv</span></span>
<span id="cb35-21"><a href="#cb35-21" aria-hidden="true" tabindex="-1"></a>    filename <span class="op">=</span> os.path.join(folder_to_save, <span class="st">''</span>.join([root_name, <span class="bu">str</span>(this_year), <span class="st">'.csv'</span>]))</span>
<span id="cb35-22"><a href="#cb35-22" aria-hidden="true" tabindex="-1"></a>    surveys_year.to_csv(filename)</span></code></pre>
</div>
<ul>
<li>Modifica las funciones de tal forma que no creen archivos para un
año si éste no está en los datos y que muestre una alerta al usuario
(Pista: usa condicionales para esto. Si quieres un reto más, ¡usa
<code>try</code>!)</li>
</ul>
<div class="codewrapper sourceCode" id="cb36">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Escribe el nuevo DataFrame a un archivo csv</span></span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> <span class="bu">len</span>(surveys_year) <span class="op">&gt;</span> <span class="dv">0</span>:</span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>        filename <span class="op">=</span> os.path.join(folder_to_save, <span class="st">''</span>.join([root_name, <span class="bu">str</span>(this_year), <span class="st">'.csv'</span>]))</span>
<span id="cb36-4"><a href="#cb36-4" aria-hidden="true" tabindex="-1"></a>        surveys_year.to_csv(filename)</span>
<span id="cb36-5"><a href="#cb36-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb36-6"><a href="#cb36-6" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">"No data for year "</span> <span class="op">+</span> <span class="bu">str</span>(this_year))</span></code></pre>
</div>
<ul>
<li>El código que has escrito hasta este momento usando el bucle
<strong>for</strong> está bastante bien, pero no necesariamente es
reproducible con <strong>datasets</strong> diferentes. Por ejemplo, ¿qué
pasa con el código si tenemos datos para más años? Usando las
herramientas que aprendiste en las actividades anteriores, crea una
lista de todos los años representados en los datos. Después crea un
bucle para procesar tu información, comenzando desde el primer año y
terminando en el último usando la lista.</li>
</ul>
<div class="codewrapper sourceCode" id="cb37">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> yearly_data_csv_writer(all_data, yearcolumn<span class="op">=</span><span class="st">"year"</span>,</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>                           folder_to_save<span class="op">=</span><span class="st">'./'</span>, root_name<span class="op">=</span><span class="st">'survey'</span>):</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>    <span class="co">"""</span></span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a><span class="co">    Escribe archivos csv separados para los datos de cada año.</span></span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a><span class="co">    all_data --- DataFrame con datos de múltiples años</span></span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a><span class="co">    yearcolumn --- nombre de columna con el año de los datos</span></span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a><span class="co">    folder_to_save --- carpeta para guardar los archivos de datos</span></span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a><span class="co">    root_name --- inicio de los nombres de archivo almacenados</span></span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a><span class="co">    """</span></span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>    years <span class="op">=</span> all_data[<span class="st">"year"</span>].unique()</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># "end_year" es el último año de los datos que queremos extraer, así que hacemos un bucle hasta end_year+1</span></span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a>    filenames <span class="op">=</span> []</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> year <span class="kw">in</span> years:</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a>        filenames.append(one_year_csv_writer(year, all_data, folder_to_save, root_name))</span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> filenames</span></code></pre>
</div>
</div>
</div>
<div class="section level2">
<h2 id="visualization-ggplot-python">07-visualization-ggplot-python<a class="anchor" aria-label="anchor" href="#visualization-ggplot-python"></a>
</h2>
<p>Si las estudiantes tienen problemas para generar el output, u ocurre
algo con éste, existe un archivo llamado “sample output” con los datos
que ellas debían generar en la lección 03.</p>
<p>Las <strong>notebooks</strong> de iPython para graficar pueden verse
en la carpeta <code>_extras</code></p>
</div>
<div class="section level2">
<h2 id="putting-it-all-together">08-putting-it-all-together<a class="anchor" aria-label="anchor" href="#putting-it-all-together"></a>
</h2>
<p>Las científicas suelen operar sobre ecuaciones matemáticas. La
capacidad para usar estas ecuaciones en sus gráficas otorga mucho valor
agregado. Por fortuna, Matplotlib provee herramientas poderosas para el
control de texto. Una de ellas es la capacidad para usar la notación
matemática de LaTeX al usar texto (puedes aprender más sobre la notación
matemática de LaTeX aquí: <a href="https://en.wikibooks.org/wiki/LaTeX/Mathematics" class="external-link">https://en.wikibooks.org/wiki/LaTeX/Mathematics</a>).
Para usar notación matemática, enciera tu texto con el signo
<code>$</code>. LaTeX usa mucho el caracter de barra invertida o
<strong>backlash</strong> (“\”). Como este caracter tiene un significado
especial en las secuencias de caracteres de Python, deberían
reemplazarse todas las barras invertidas relacionadas con LaTeX por dos
barras invertidas.</p>
<div class="codewrapper sourceCode" id="cb38">
<h3 class="code-label">PYTHON<i aria-hidden="true" data-feather="chevron-left"></i><i aria-hidden="true" data-feather="chevron-right"></i>
</h3>
<pre class="sourceCode python" tabindex="0"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>plt.plot(t, t, <span class="st">'r--'</span>, label<span class="op">=</span><span class="st">'$y=x$'</span>)</span>
<span id="cb38-2"><a href="#cb38-2" aria-hidden="true" tabindex="-1"></a>plt.plot(t, t<span class="op">**</span><span class="dv">2</span> , <span class="st">'bs-'</span>, label<span class="op">=</span><span class="st">'$y=x^2$'</span>)</span>
<span id="cb38-3"><a href="#cb38-3" aria-hidden="true" tabindex="-1"></a>plt.plot(t, (t <span class="op">-</span> <span class="dv">5</span>)<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> <span class="dv">5</span> <span class="op">*</span> t <span class="op">-</span> <span class="fl">0.5</span>, <span class="st">'g^:'</span>, label<span class="op">=</span><span class="st">'$y=(x - 5)^2 + 5  x - </span><span class="ch">\\</span><span class="st">frac</span><span class="sc">{1}{2}</span><span class="st">$'</span>) <span class="co"># nota la barra invertida doble</span></span>
<span id="cb38-4"><a href="#cb38-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-5"><a href="#cb38-5" aria-hidden="true" tabindex="-1"></a>plt.legend(loc<span class="op">=</span><span class="st">'upper left'</span>, shadow<span class="op">=</span><span class="va">True</span>, fontsize<span class="op">=</span><span class="st">'x-large'</span>)</span>
<span id="cb38-6"><a href="#cb38-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-7"><a href="#cb38-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Nota las dobles barras invertidas en la línea de abajo</span></span>
<span id="cb38-8"><a href="#cb38-8" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">'Éste es el eje x. También puede contener matemática, como $</span><span class="ch">\\</span><span class="st">bar</span><span class="sc">{x}</span><span class="st">=</span><span class="ch">\\</span><span class="st">frac{</span><span class="ch">\\</span><span class="st">sum_{i=1}^</span><span class="sc">{n}</span><span class="st"> </span><span class="sc">{x}</span><span class="st">} </span><span class="sc">{N}</span><span class="st">$'</span>)</span>
<span id="cb38-9"><a href="#cb38-9" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">'Éste es el eje y'</span>)</span>
<span id="cb38-10"><a href="#cb38-10" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">'Éste es el título de la figura'</span>)</span>
<span id="cb38-11"><a href="#cb38-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb38-12"><a href="#cb38-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre>
</div>
</div>
<div class="section level2">
<h2 id="working-with-sql">09-working-with-sql<a class="anchor" aria-label="anchor" href="#working-with-sql"></a>
</h2>
<p>FIXME</p>
<p><a href="https://matplotlib.org/users/mathtext.html" class="external-link">Ésta página</a>
contiene más información.</p>
</div>
</div>

      <section id="aggregate-instructor-notes"><section id="00-before-we-start"><h2 class="section-heading"><a href="00-before-we-start.html">Antes de comenzar</a></h2>
<hr class="half-width"></section><section id="01-short-introduction-to-Python"><h2 class="section-heading"><a href="01-short-introduction-to-Python.html">Breve introducción a la Programación en Python</a></h2>
<hr class="half-width"></section><section id="02-starting-with-data"><h2 class="section-heading"><a href="02-starting-with-data.html">Comenzando con datos</a></h2>
<hr class="half-width"></section><section id="03-index-slice-subset"><h2 class="section-heading"><a href="03-index-slice-subset.html">Indexación, segmentación y creación de subconjuntos a partir de DataFrames en Python</a></h2>
<hr class="half-width"></section><section id="04-data-types-and-format"><h2 class="section-heading"><a href="04-data-types-and-format.html">Tipos de datos y formatos</a></h2>
<hr class="half-width"></section><section id="05-merging-data"><h2 class="section-heading"><a href="05-merging-data.html">Combinando DataFrames con Pandas</a></h2>
<hr class="half-width"></section><section id="06-loops-and-functions"><h2 class="section-heading"><a href="06-loops-and-functions.html">Flujos de trabajo y automatización</a></h2>
<hr class="half-width"></section><section id="07-visualization-ggplot-python"><h2 class="section-heading"><a href="07-visualization-ggplot-python.html">Creando gráficos con plotnine</a></h2>
<hr class="half-width"></section><section id="08-putting-it-all-together"><h2 class="section-heading"><a href="08-putting-it-all-together.html">Entrada de datos y visualización - Matplotlib y Pandas</a></h2>
<hr class="half-width"></section><section id="09-working-with-sql"><h2 class="section-heading"><a href="09-working-with-sql.html">Acceso a base de datos SQLite usando Python y Pandas</a></h2>
<hr class="half-width"></section></section>
</div>
    </main>
</div>
<!-- END  : inst/pkgdown/templates/content-extra.html -->

      </div>
<!--/div.row-->
      		<footer class="row footer mx-md-3"><hr>
<div class="col-md-6">
        <p>This lesson is subject to the <a href="CODE_OF_CONDUCT.html">Code of Conduct</a></p>
        <p>
        
        <a href="https://github.com/datacarpentry/python-ecology-lesson-es/edit/main/README.md" class="external-link">Edit on GitHub</a>
        
	
        | <a href="https://github.com/datacarpentry/python-ecology-lesson-es/blob/main/CONTRIBUTING.md" class="external-link">Contributing</a>
        | <a href="https://github.com/datacarpentry/python-ecology-lesson-es/" class="external-link">Source</a></p>
				<p><a href="https://github.com/datacarpentry/python-ecology-lesson-es/blob/main/CITATION" class="external-link">Cite</a> | <a href="mailto:team@carpentries.org">Contact</a> | <a href="https://carpentries.org/about/" class="external-link">About</a></p>
			</div>
			<div class="col-md-6">
        
        <p>Materials licensed under <a href="LICENSE.html">CC-BY 4.0</a> by the authors</p>
        
        <p>Template licensed under <a href="https://creativecommons.org/licenses/by-sa/4.0/" class="external-link">CC-BY 4.0</a> by <a href="https://carpentries.org/" class="external-link">The Carpentries</a></p>
        <p>Built with <a href="https://github.com/carpentries/sandpaper/tree/0.16.2" class="external-link">sandpaper (0.16.2)</a>, <a href="https://github.com/carpentries/pegboard/tree/0.7.3" class="external-link">pegboard (0.7.3)</a>, and <a href="https://github.com/carpentries/varnish/tree/1.0.1" class="external-link">varnish (1.0.1)</a></p>
			</div>
		</footer>
</div> <!-- / div.container -->
	<div id="to-top">
		<a href="#top">
      <i class="search-icon" data-feather="arrow-up" role="img" aria-label="Back To Top"></i><br><!-- <span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top --><span class="d-none d-sm-none d-md-none d-lg-none d-xl-block">Back</span> To Top
		</a>
	</div>
  <script type="application/ld+json">
    {
  "@context": "https://schema.org",
  "@type": "TrainingMaterial",
  "@id": "https://datacarpentry.org/python-ecology-lesson-es/instructor/instructor-notes.html",
  "inLanguage": "en",
  "dct:conformsTo": "https://bioschemas.org/profiles/TrainingMaterial/1.0-RELEASE",
  "description": "A Carpentries Lesson teaching foundational data and coding skills to researchers worldwide",
  "keywords": "software, data, lesson, The Carpentries",
  "name": "Instructor Notes",
  "creativeWorkStatus": "active",
  "url": "https://datacarpentry.org/python-ecology-lesson-es/instructor/instructor-notes.html",
  "identifier": "https://datacarpentry.org/python-ecology-lesson-es/instructor/instructor-notes.html",
  "dateCreated": "2018-11-09",
  "dateModified": "2024-01-16",
  "datePublished": "2024-01-16"
}

  </script><script>
		feather.replace();
	</script><!-- Matomo
    2022-11-07: we have gotten a notification that we have an overage for our
    tracking and I'm pretty sure this has to do with Workbench usage.
    Considering that I am not _currently_ using this tracking because I do not
    yet know how to access the data, I am turning this off for now.
  <script>
    var _paq = window._paq = window._paq || [];
    /* tracker methods like "setCustomDimension" should be called before "trackPageView" */
    _paq.push(["setDocumentTitle", document.domain + "/" + document.title]);
    _paq.push(["setDomains", ["*.preview.carpentries.org","*.datacarpentry.github.io","*.datacarpentry.org","*.librarycarpentry.github.io","*.librarycarpentry.org","*.swcarpentry.github.io", "*.carpentries.github.io"]]);
    _paq.push(["setDoNotTrack", true]);
    _paq.push(["disableCookies"]);
    _paq.push(['trackPageView']);
    _paq.push(['enableLinkTracking']);
    (function() {
          var u="https://carpentries.matomo.cloud/";
          _paq.push(['setTrackerUrl', u+'matomo.php']);
          _paq.push(['setSiteId', '1']);
          var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
          g.async=true; g.src='https://cdn.matomo.cloud/carpentries.matomo.cloud/matomo.js'; s.parentNode.insertBefore(g,s);
        })();
  </script>
  End Matomo Code -->
</body>
</html><!-- END:   inst/pkgdown/templates/layout.html-->

